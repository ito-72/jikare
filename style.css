/* ===================== */
/* 全体（iPhone収まり重視） */
/* ===================== */
:root{
  --gap:10px; --border:#E5E7EB; --bg:#fafafa; --muted:#6B7280; --brand:#2563EB;
}
body {
  background-color: #f5f7fa;
  background-image:
    linear-gradient(135deg, rgba(255,255,255,0.3) 25%, transparent 25%),
    linear-gradient(225deg, rgba(255,255,255,0.3) 25%, transparent 25%),
    linear-gradient(45deg, rgba(0,0,0,0.02) 25%, transparent 25%),
    linear-gradient(315deg, rgba(0,0,0,0.02) 25%, transparent 25%);
  background-size: 40px 40px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  font-size: 16px;
  color: #111;
  padding: env(safe-area-inset-top, 20px) 12px 20px;
  box-sizing: border-box;
  min-height: 100vh;
}

/* 見出し */
h1 {
  font-size: 20px;
  margin: 4px 0 12px;
  color: #ee7b71;
  font-weight: 600;
  letter-spacing: .02em;
}
.sec-title { font-size:16px; margin:0 0 8px; }

/* レイアウト */
.container{ max-width: 820px; margin: 0 auto; padding: 0 0 28px; }
.grid{ display:grid; gap: 12px; }
@media(min-width:900px){ .grid.cols-2{ grid-template-columns: 1fr 1fr; } }
.card{ border:1px solid var(--border); border-radius:12px; padding:12px; background:#fff; }
.muted{ color: var(--muted); font-size: 12px; }

/* 入力系（上のフォームをタイトに） */
.rows{ display:grid; gap:10px; }
.row{ display:grid; gap:6px; }
.row-inline-3{ grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
.fgroup{ display:grid; gap:4px; }
.fgroup label{ font-size:12px; color:#374151; }
.fgroup input,
.fgroup textarea,
.fgroup select{
  width:100%; box-sizing:border-box;
  border:1px solid var(--border);
  border-radius:10px; padding:8px 10px; font-size:14px; background:#fff;
}
textarea{ min-height:70px; }

/* ボタン */
button{
  appearance:none; border:1px solid var(--border);
  background:#fff; border-radius:999px; padding:8px 12px; font-size:14px; cursor:pointer;
}
button.primary{ background: var(--brand); color:#fff; border-color: var(--brand); }

/* タブ（ユーザー切替） */
.tabs{ display:flex; border:1px solid var(--border); border-radius:999px; overflow:hidden; }
.tabs button{ border:0; border-right:1px solid var(--border); padding:8px 14px; background:#fff; }
.tabs button:last-child{ border-right:0; }
.tabs button.active{ background: var(--brand); color:#fff; }

/* ====== 下のビュー全体を少し縮小（比率維持で収める） ====== */
.viewer{ font-size: 90%; }  /* ← ここで全体を1割縮小 */

/* ====== ナビ（2段） ====== */
.viewerbar{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.viewerbar-top{ margin-bottom:6px; }
.viewerbar-bottom{ margin-bottom:6px; }
.seg{ display:flex; border:1px solid var(--border); border-radius:999px; overflow:hidden; }
.seg label{ display:flex; gap:6px; align-items:center; padding:8px 12px; font-size:13px; }
.seg input{ margin:0 6px 0 0; }
.viewerbar-bottom input[type="date"]{
  height:34px; font-size:14px; border:1px solid var(--border); border-radius:10px; padding:6px 8px;
}

/* ====== テーブル（横スクロール完全禁止） ====== */
.table-wrap{ overflow: hidden; border:1px solid var(--border); border-radius:10px; }
#rowsTable{
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;   /* 列幅を固定配分に */
  min-width: 0;          /* 画面幅を超えない */
  font-size: 12px;       /* テーブル内だけ更に少し小さく */
}
#rowsTable th, #rowsTable td{
  padding: .32rem .42rem;     /* 余白圧縮 */
  vertical-align: top;
  white-space: pre-wrap;       /* 入力の改行は維持 */
  overflow-wrap: anywhere;     /* 英数字連続も折り返す */
  word-break: break-word;      /* 念のため */
}
#rowsTable thead th{
  position: sticky; top: 0;
  background: #f9fafb; z-index: 1;
}

/* 短い列は狭幅、備考はやや広め（必要に応じて微調整してください） */
#rowsTable th:nth-child(1), #rowsTable td:nth-child(1){ width: 2.8em; }  /* 日 */
#rowsTable th:nth-child(2), #rowsTable td:nth-child(2){ width: 2.8em; }  /* 曜 */
#rowsTable th:nth-child(5), #rowsTable td:nth-child(5){ width: 18%; }    /* 備考あたり */

/* 小さい画面でさらに圧縮 */
@media(max-width:420px){
  .fgroup input, .fgroup textarea{ font-size:13px; }
  button{ padding:7px 10px; font-size:13px; }
  .viewerbar-bottom input[type="date"]{ height:32px; font-size:13px; }
  #rowsTable{ font-size: 11.5px; }
}
